# USD-BigDataSpecialization-CapstoneProject-CatchThePinkFlamingoIncGame
Coursera-USD-Capstone Project| How To Increase Revenue Exploring 'Catch The Pink Flamingo' Inc. Game Data
## To download the predefined datasets and the scripts needed to fulfill the Capstone Project, click the following link:
https://d3c33hcgiwev3.cloudfront.net/_de5ad40e9a4965ee4b6aad31eea4ac7a_big_data_capstone_datasets_and_scripts.zip?Expires=1607472000&Signature=aXBEau14A4rpy~P4ClaA-W6xjlRcFk6zH4NhSkU0a-b8mGwpvdAUMWAeOhV6mpWokYp65ycUd353eBXhC0KrvYZwwJN2tC1tLKwNFcWAWUZ6bLwopvXFYm4gUv5OEtC9qCf-N8vUU1EHbBLOwUkMWytaQQxYyPDIJpLBEa2~wT8_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A

Description of Downloaded Content
The above zip archive contains the following archives and scripts. 

### flamingo-data.zip
The zip archive "flamingo-data.zip" contains 8 CSV files containing simulated game data and log data for the Catch the Pink Flamingo Simulated Game Data. These files are described in greater detail in an accompanying Reading for this week, "Understanding the CSV Files Generated by the Scripts".

### combined-data.zip
 The zip archive "combined-data.zip" contains a single CSV file created by aggregating data from several game data files. It is intended to be used in Week 2 with KNIME. This file is described in greater detail in the Reading "Description of combined-data.csv".

### chat-data.zip
The zip archive "chat-data.zip" contains 6 CSV files representing simulated chat data related to the Catch the Pink Flamingo game to be used in the Week 4 Graph Analytics. These files are described in greater detail in the Reading "Understanding the Simulated Chat Data Generated by the Scripts".

### Week 3 pySpark MLlib Clustering.ipynb
This is an iPython Notebook containing instructions for what you need to do in Week 3. You may view this notebook online or on your computer if you have iPython installed. We also provide a PDF as an alternative if you do not already have iPython installed. Instructions for running the scripts (described below) are provided in a Week 3 Reading. 

### setupWeek3.sh 
This is a shell script you will run in the Cloudera VM for the Week 3 assignment on Spark MLlib.

### sparkMLlibClustering.py
This is a python script you will need to perform Spark MLlib clustering for Week 3.

### load-neo4j.cypher 
This file is a text file containing the CYPHER commands needed to load the chat data into Neo4j. You can edit it with any text editor and copy the contents into the Neo4j command line.
Simulation Specific Log Files
        

File: ad-clicks.csv

ERD table: AdClicks

A line is added to this file when a player clicks on an advertisement in the Flamingo app.

        

Example:

timestamp, txId, userSessionid, teamid, userid, adId, adCategory

2016-05-14 21:11:46, 6164, 6036, 91, 2116, 11, sports

2016-05-14 21:15:29, 6159, 5803, 67, 2181, 2, automotive

2016-05-14 21:25:11, 6160, 6073, 45, 583, 1, clothing

        

Fields:

timestamp: when the click occurred.

txId: a unique id (within ad-clicks.log) for the click

userSessionid: the id of the user session for the user who made the click

teamid: the current team id of the user who made the click

userid: the user id of the user who made the click

adId: the id of the ad clicked on

adCategory: the category/type of ad clicked on

        

        

File: buy-clicks.csv

ERD table: InAppPurchases

A line is added to this file when a player makes an in-app purchase in the Flamingo app.

        

Example:

timestamp, txId, userSessionId, team, userId, buyId, price

2016-05-14 21:41:36, 6193, 5759, 107, 418, 2, 2.99

2016-05-14 23:11:36, 6294, 5757, 61, 2699, 0, 0.99

2016-05-14 23:11:36, 6295, 5759, 48, 1954, 2, 2.99

        

Fields:

timestamp: when the purchase was made.

txId: a unique id (within buy-clicks.log) for the purchase

userSessionId: the id of the user session for the user who made the purchase

team: the current team id of the user who made the purchase

userId: the user id of the user who made the purchase

buyId: the id of the item purchased

price: the price of the item purchased

        

File: users.csv

ERD table: User

This file contains a line for each user playing the game.

        

Example:

timestamp, userId, nick, twitter, dob, country

2012-06-07 13:18:39, 1727, ygT3AjR9, @xF6DPo, 1992-08-23, TO

2012-06-07 13:47:43, 447, 3D27yVBcJXy, @ltrWQA, 1967-12-04, CF

2012-06-08 19:36:22, 2028, dvLDYcZ, @cUXLeeYt, 1997-10-12, C

        

Fields:

timestamp: when user first played the game.

userId: the user id assigned to the user.

nick: the nickname chosen by the user.

twitter: the twitter handle of the user.

dob: the date of birth of the user.

country: the two-letter country code where the user lives.

        

File: team.csv

ERD table: Team

This file contains a line for each team terminated in the game.

        

Example:

teamId, name, teamCreationTime, teamEndTime, strength, currentLevel

71, MVGOSu, 2016-05-31 20:02:08, 9999-12-31 23:59:59, 0.929398025213, 1

54, DKyRF58wRx, 2016-06-01 02:56:13, 9999-12-31 23:59:59, 0.538909518465, 1

45, KSJNVDO5u, 2016-06-01 03:09:22, 9999-12-31 23:59:59, 0.299277902587, 1

        

Fields:

teamId: the id of the team

name: the name of the team

teamCreationTime: the timestamp when the team was created

teamEndTime: the timestamp when the last member left the team

strength: a measure of team strength, roughly corresponding to the success of a team

currentLevel: the current level of the team

   

File: team-assignments.csv

ERD table: TeamAssignment

A line is added to this file each time a user joins a team. A user can be in at most a single team at a time.

        

Example:

timestamp, team, userId, assignmentId

2016-06-01 16:42:18, 37, 894, 5525

2016-06-01 16:48:46, 11, 1849, 5537

2016-06-01 16:55:23, 72, 1936, 5332

        

Fields:

timestamp: when the user joined the team.

team: the id of the team

userId: the id of the user

assignmentId: a unique id for this assignment

        

        

File: level-events.csv

ERD table: LevelEvent

A line is added to this file each time a team starts or finishes a level in the game

        

Example:

timestamp, eventId, teamId, teamLevel, eventType

2016-05-16 04:41:36, 0, 4, 1, end

2016-05-16 04:41:36, 1, 4, 2, start

2016-05-16 04:41:36, 2, 9, 1, end

        

Fields:

timestamp: when the event occurred.

eventId: a unique id for the event

teamId: the id of the team

teamLevel: the level started or completed

eventType: the type of event, either start or end

        

        

File: user-session.csv

ERD table: User_Sessions

Each line in this file describes a user session, which denotes when a user starts and stops playing the game. Additionally, when a team goes to the next level in the game, the session is ended for each user in the team and a new one started.

Example:

timestamp, userSessionId, userId, teamId, assignmentId, sessionType, teamLevel, platformType

2016-05-26 14:47:30,5675,170,90,5423,start,1,iphone

2016-05-27 00:06:54,5675,170,90,5423,end,1,iphone

2016-05-26 14:43:09,5795,835,39,5300,start,1,android

2016-05-27 08:06:54,5795,835,39,5300,end,1,android

2016-05-26 14:47:20,5833,624,2,5529,start,1,iphone

     

Fields:

timestamp: a timestamp denoting when the event occurred. 

userSessionId: a unique id for the session.

userId: the current user's ID.

teamId: the current user's team.

assignmentId: the team assignment id for the user to the team.

sessionType: whether the event is the start or end of a session.

teamLevel: the level of the team during this session. 

platformType: the type of platform of the user during this session.

        

        

File: game-clicks.csv

ERD table: GameClicks

A line is added to this file each time a user performs a click in the game.

Example:

timestamp, clickId, userId, userSessionId, isHit, teamId, teamLevel

2016-05-14 20:41:36, 298, 2236, 6104, 0, 80, 1

2016-05-14 20:41:40, 270, 951, 5999, 0, 74, 1

2016-05-14 20:41:42, 162, 1954, 5893, 0, 48, 1

        

Fields:

timestamp: when the click occurred.

clickId: a unique id for the click.

userId: the id of the user performing the click.

userSessionId: the id of the session of the user when the click is performed.

isHit: denotes if the click was on a flamingo (value is 1) or missed the flamingo (value is 0)

teamId: the id of the team of the user

teamLevel: the current level of the team of the user
